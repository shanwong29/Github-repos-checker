(this["webpackJsonprepos-checker"]=this["webpackJsonprepos-checker"]||[]).push([[0],{11:function(e,t,a){e.exports={reposInfo:"ReposInfo_reposInfo__2ErSp",tap_wrapper:"ReposInfo_tap_wrapper__yu0GN",tap:"ReposInfo_tap__29w1m",active_tab:"ReposInfo_active_tab__rpF6e",data_wrapper:"ReposInfo_data_wrapper__3YbU_"}},14:function(e,t,a){e.exports={comments_wrapper:"IssueComments_comments_wrapper__3SA7K",comment_text:"IssueComments_comment_text__2owF1",each_comment_wrapper:"IssueComments_each_comment_wrapper__Qjbm3",search_input:"IssueComments_search_input__2hvLZ"}},21:function(e,t,a){e.exports={logoutBtn:"Login_logoutBtn__2Q-at",requestStatus:"Login_requestStatus__ROc7N"}},22:function(e,t,a){e.exports={issue:"Issue_issue__3Kult",issue_text:"Issue_issue_text__3WKoU"}},23:function(e,t,a){e.exports={App:"App_App__hoMWS",app_title:"App_app_title__an3t-"}},32:function(e,t,a){e.exports=a(44)},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(27),s=a.n(o),l=(a(37),a(10)),c=a(7),u=a(9),i=a(13),m=a(12),p=a(17),d=a(21),_=a.n(d),g=a(15),v=a(20),h=function(e){var t=e.timeStamp,a=new Date(t),n=a.getDate(),o={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[a.getMonth()],s=a.getFullYear(),l=String(a.getHours()).padStart(2,"0"),c=String(a.getMinutes()).padStart(2,"0");return r.a.createElement("span",null,n," ",o," ",s," ","".concat(l,":").concat(c))},E=(a(38),function(e){var t=e.url,a=e.username;return r.a.createElement("img",{src:t,alt:a,className:"profilePic"})}),f=function(e){var t=e.author,a=e.avatarUrl,n=e.timeStamp;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{username:t,url:a}),r.a.createElement("span",null,t," \u2022 "),r.a.createElement(h,{timeStamp:n}))},b=function(e){var t=e.pullRequests;return t=t.edges.map((function(e,t){var a=e.node.author.login,n=e.node.author.avatarUrl;return r.a.createElement("div",{className:"info_wrapper",key:t},r.a.createElement(f,{author:a,avatarUrl:n,timeStamp:e.node.createdAt}),r.a.createElement("h4",null,e.node.title))}))},y=a(14),w=a.n(y),S=function(e){var t=e.comments,a=Object(n.useState)(""),o=Object(l.a)(a,2),s=o[0],c=o[1],u=t.filter((function(e){return e.node.bodyText.includes(s)}));return u.sort((function(e,t){var a=new Date(e.node.createdAt),n=new Date(t.node.createdAt);return a<n?-1:a>n?1:0})),u=u.map((function(e,t){var a=e.node.author.login,n=e.node.author.avatarUrl;return r.a.createElement("div",{className:w.a.each_comment_wrapper,key:t},r.a.createElement(f,{author:a,avatarUrl:n,timeStamp:e.node.createdAt}),r.a.createElement("p",{className:w.a.comment_text},e.node.bodyText))})),t.length?r.a.createElement("div",{className:w.a.comments_wrapper},r.a.createElement("h4",null,"Comments:"),r.a.createElement("label",{htmlFor:"commentQuery"},"Filter comments by keyword(s): "),r.a.createElement("input",{className:w.a.search_input,name:"commentQuery",type:"text",placeholder:"type keyword(s) here...",value:s,onChange:function(e){return c(e.target.value)}}),u):r.a.createElement("p",{className:w.a.each_comment_wrapper},"No comments for this issue")},I=a(22),k=a.n(I),N=function(e){var t=e.issue,a=Object(n.useState)(""),o=Object(l.a)(a,2),s=o[0],c=o[1];return t=t.edges.map((function(e,t){var a=e.node.comments.edges,o=e.node.author.login,l=e.node.author.avatarUrl,u=e.node.bodyText;return r.a.createElement(n.Fragment,{key:t},r.a.createElement("div",{className:"info_wrapper ".concat(k.a.issue),onClick:function(){c(t===s?null:t)}},r.a.createElement(f,{author:o,avatarUrl:l,timeStamp:e.node.createdAt}),r.a.createElement("h4",null,e.node.title),s===t&&r.a.createElement("p",{className:k.a.issue_text},u)),s===t&&r.a.createElement(S,{comments:a,issueAuthor:o}))})),r.a.createElement(r.a.Fragment,null,t)},A=(a(39),function(e){var t=e.onSubmitFn,a=e.name,n=e.label,o=e.value,s=e.type,l=e.placeholder,c=e.btnDisplay,u=e.variant;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"inputForm__label",htmlFor:a},n),r.a.createElement("form",{onSubmit:t,className:"inputForm inputForm__".concat(u)},r.a.createElement("input",{name:a,type:s,value:o,placeholder:" ",className:"inputForm__input"}),r.a.createElement("span",{className:"inputForm__placeholder"},l),r.a.createElement("button",{className:"inputForm__btn"},c)))}),F=a(11),R=a.n(F);function O(){var e=Object(p.a)(["\n  query($owner: String!, $name: String!) {\n    repository(owner: $owner, name: $name) {\n      name\n      owner {\n        login\n      }\n      pullRequests(last: 5, orderBy: { field: CREATED_AT, direction: ASC }) {\n        edges {\n          node {\n            author {\n              login\n              avatarUrl\n            }\n            title\n            createdAt\n          }\n        }\n      }\n      openIssues: issues(\n        states: OPEN\n        last: 5\n        orderBy: { field: CREATED_AT, direction: ASC }\n      ) {\n        edges {\n          node {\n            ...issueInfo\n          }\n        }\n      }\n      closedIssues: issues(\n        states: CLOSED\n        last: 5\n        orderBy: { field: CREATED_AT, direction: ASC }\n      ) {\n        edges {\n          node {\n            ...issueInfo\n          }\n        }\n      }\n    }\n  }\n\n  fragment issueInfo on Issue {\n    title\n    createdAt\n    bodyText\n    author {\n      login\n      avatarUrl\n    }\n    comments(last: 5) {\n      edges {\n        node {\n          author {\n            login\n            avatarUrl\n          }\n          createdAt\n          bodyText\n        }\n      }\n    }\n  }\n"]);return O=function(){return e},e}var C=Object(v.a)(O()),x=function(e){var t,a,o=e.reposQuery,s=e.setReposQuery,c=Object(n.useState)("pullRequests"),u=Object(l.a)(c,2),i=u[0],m=u[1];o&&(t=(o=o.split("/"))[0]&&o[0].trim(),a=o[1]&&o[1].trim());var p,d,_,v=Object(g.a)(C,{skip:!t,variables:{owner:t,name:a}},{errorPolicy:"all"}),h=v.loading,E=v.error,f=v.data,y="";return h&&(y="loading..."),E&&(y=E.graphQLErrors[0].message),f&&(d=f.repository.openIssues,_=f.repository.closedIssues,p=f.repository.pullRequests),r.a.createElement("div",{className:R.a.reposInfo},r.a.createElement(A,{onSubmitFn:function(e){return function(e){e.preventDefault();var t=e.target.queryInput.value;s(t)}(e)},name:"queryInput",label:"Search Repos: ",type:"text",placeholder:"e.g. nuwave/lighthouse",btnDisplay:"Search"}),r.a.createElement("p",null,y),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,f.repository.name),r.a.createElement("div",{className:R.a.tap_wrapper},r.a.createElement("h4",{className:"".concat(R.a.tap," ").concat("pullRequests"===i&&R.a.active_tab),onClick:function(){m("pullRequests")}},"Pull Requests"),r.a.createElement("h4",{className:"".concat(R.a.tap," ").concat("openIssues"===i&&R.a.active_tab),onClick:function(){m("openIssues")}},"Open Issues"),r.a.createElement("h4",{className:"".concat(R.a.tap," ").concat("closedIssues"===i&&R.a.active_tab),onClick:function(){m("closedIssues")}},"Closed Issues")),r.a.createElement("div",{className:R.a.data_wrapper},"pullRequests"===i&&r.a.createElement(b,{pullRequests:p}),"openIssues"===i&&r.a.createElement(N,{issue:d}),"closedIssues"===i&&r.a.createElement(N,{issue:_}))))};function j(){var e=Object(p.a)(["\n    query {\n      viewer {\n        login\n        avatarUrl\n      }\n    }\n  "]);return j=function(){return e},e}var q=function(e){var t,a=e.token,o=e.setToken,s=Object(n.useState)(""),c=Object(l.a)(s,2),u=c[0],i=c[1],m=Object(v.a)(j()),p=Object(g.a)(m,{skip:!a},{errorPolicy:"all"}),d=p.loading,h=p.error,f=p.data;if(d&&(t="loading..."),h&&(t="Something goes wrong. Make sure the given / stored token is valid"),f){var b=f.viewer.avatarUrl,y=f.viewer.login;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:_.a.logoutBtn,onClick:function(){localStorage.clear(),o(""),i("")}},r.a.createElement(E,{url:b,username:y})," ",r.a.createElement("p",null,"Logout")),r.a.createElement(x,{reposQuery:u,setReposQuery:i}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{onSubmitFn:function(e){!function(e){e.preventDefault(),o(e.target.token.value),localStorage.setItem("storedToken",e.target.token.value)}(e)},name:"token",type:"password",placeholder:"Paste your GitHub token",btnDisplay:"Login",variant:"middle"}),r.a.createElement("p",{className:_.a.requestStatus},t))},T=a(23),D=a.n(T),U=function(){var e=localStorage.getItem("storedToken")||"",t=Object(n.useState)(e),a=Object(l.a)(t,2),o=a[0],s=a[1],p=new i.a({uri:"https://api.github.com/graphql",headers:{Authorization:"Bearer ".concat(o)}}),d=new u.a({link:p,cache:new m.a});return r.a.createElement(c.a,{client:d},r.a.createElement("div",{className:D.a.App},r.a.createElement("h1",{className:D.a.app_title},"Repos Checker"),r.a.createElement(q,{token:o,setToken:s})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.f6435394.chunk.js.map