(this["webpackJsonprepos-checker"]=this["webpackJsonprepos-checker"]||[]).push([[0],{10:function(e,t,n){e.exports={reposInfo:"ReposInfo_reposInfo__2ErSp",tap_wrapper:"ReposInfo_tap_wrapper__yu0GN",tap:"ReposInfo_tap__29w1m",active_tab:"ReposInfo_active_tab__rpF6e"}},15:function(e,t,n){e.exports={comments_wrapper:"IssueComments_comments_wrapper__3SA7K",comment_text:"IssueComments_comment_text__2owF1",each_comment_wrapper:"IssueComments_each_comment_wrapper__Qjbm3"}},18:function(e,t,n){e.exports={App:"App_App__hoMWS",logoutBtn:"App_logoutBtn__11jmP",app_title:"App_app_title__an3t-"}},20:function(e,t,n){e.exports={issue:"Issue_issue__3Kult",issue_text:"Issue_issue_text__3WKoU"}},30:function(e,t,n){e.exports={login_form:"Login_login_form__uSGcd"}},32:function(e,t,n){e.exports=n(42)},37:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(24),s=n.n(o),c=(n(37),n(11)),l=n(7),u=n(9),m=n(13),i=n(12),p=n(25),d=n(19),_=n(31),f=function(e){var t=e.timeStamp,n=new Date(t),a=n.getDate(),o={0:"Jan",1:"Feb",2:"Mar",3:"Apr",4:"May",5:"Jun",6:"Jul",7:"Aug",8:"Sep",9:"Oct",10:"Nov",11:"Dec"}[n.getMonth()],s=n.getFullYear(),c=String(n.getHours()).padStart(2,"0"),l=String(n.getMinutes()).padStart(2,"0");return r.a.createElement("span",null,a," ",o," ",s," ","".concat(c,":").concat(l))},E=function(e){var t=e.pullRequests;return t=t.edges.map((function(e,t){var n=e.node.author.login;return r.a.createElement("div",{className:"info_wrapper",key:t},r.a.createElement("span",null,n," \u2022 "),r.a.createElement(f,{timeStamp:e.node.createdAt}),r.a.createElement("h4",null,e.node.title))}))},g=n(15),h=n.n(g),v=function(e){var t=e.comments,n=Object(a.useState)(""),o=Object(c.a)(n,2),s=o[0],l=o[1],u=t.filter((function(e){return e.node.bodyText.includes(s)}));return u.sort((function(e,t){var n=new Date(e.node.createdAt),a=new Date(t.node.createdAt);return n<a?-1:n>a?1:0})),u=u.map((function(e,t){var n=e.node.author.login;return r.a.createElement("div",{className:h.a.each_comment_wrapper,key:t},r.a.createElement("span",null,n," \u2022 "),r.a.createElement(f,{timeStamp:e.node.createdAt}),r.a.createElement("p",{className:h.a.comment_text},e.node.bodyText))})),t.length?r.a.createElement("div",{className:h.a.comments_wrapper},r.a.createElement("h4",null,"Comments:"),r.a.createElement("label",{htmlFor:"commentQuery"},"Filter comments by keyword(s): "),r.a.createElement("input",{name:"commentQuery",type:"text",placeholder:"type keyword(s) here...",value:s,onChange:function(e){return l(e.target.value)}}),u):r.a.createElement("p",{className:h.a.each_comment_wrapper},"No comments for this issue")},b=n(20),y=n.n(b),w=function(e){var t=e.issue,n=Object(a.useState)(""),o=Object(c.a)(n,2),s=o[0],l=o[1];return t=t.edges.map((function(e,t){var n=e.node.comments.edges,o=e.node.author.login,c=e.node.bodyText;return r.a.createElement(a.Fragment,{key:t},r.a.createElement("div",{className:"info_wrapper ".concat(y.a.issue),onClick:function(){l(t===s?null:t)}},r.a.createElement("span",null,o," \u2022 "),r.a.createElement(f,{timeStamp:e.node.createdAt}),r.a.createElement("h4",null,e.node.title),s===t&&r.a.createElement("p",{className:y.a.issue_text},c)),s===t&&r.a.createElement(v,{comments:n,issueAuthor:o}))})),r.a.createElement(r.a.Fragment,null,t)},I=n(10),S=n.n(I);function A(){var e=Object(p.a)(["\n  query($owner: String!, $name: String!) {\n    repository(owner: $owner, name: $name) {\n      name\n      owner {\n        login\n      }\n      pullRequests(last: 5, orderBy: { field: CREATED_AT, direction: ASC }) {\n        edges {\n          node {\n            author {\n              login\n            }\n            title\n            createdAt\n          }\n        }\n      }\n      openIssues: issues(\n        states: OPEN\n        last: 5\n        orderBy: { field: CREATED_AT, direction: ASC }\n      ) {\n        edges {\n          node {\n            ...issueInfo\n          }\n        }\n      }\n      closedIssues: issues(\n        states: CLOSED\n        last: 5\n        orderBy: { field: CREATED_AT, direction: ASC }\n      ) {\n        edges {\n          node {\n            ...issueInfo\n          }\n        }\n      }\n    }\n  }\n\n  fragment issueInfo on Issue {\n    title\n    createdAt\n    bodyText\n    author {\n      login\n    }\n    comments(last: 5) {\n      edges {\n        node {\n          author {\n            login\n          }\n          createdAt\n          bodyText\n        }\n      }\n    }\n  }\n"]);return A=function(){return e},e}var k=Object(_.a)(A()),N=function(e){var t=e.reposQuery,n=(t=t.split("/"))[0]&&t[0].trim(),o=t[1]&&t[1].trim(),s=Object(a.useState)("pullRequests"),l=Object(c.a)(s,2),u=l[0],m=l[1],i=Object(d.a)(k,{variables:{owner:n,name:o}},{errorPolicy:"all"}),p=i.loading,_=i.error,f=i.data;if(p)return r.a.createElement("p",{className:S.a.reposInfo},"Loading...");if(_)return _.graphQLErrors.map((function(e,t){var n=e.message;return r.a.createElement("p",{className:S.a.reposInfo,key:t},n)}));var g=f.repository,h=g.pullRequests,v=g.openIssues,b=g.closedIssues;return r.a.createElement("div",{className:S.a.reposInfo},r.a.createElement("h1",null,f.repository.name),r.a.createElement("div",{className:S.a.tap_wrapper},r.a.createElement("h4",{className:"".concat(S.a.tap," ").concat("pullRequests"===u&&S.a.active_tab),onClick:function(){m("pullRequests")}},"Pull Requests"),r.a.createElement("h4",{className:"".concat(S.a.tap," ").concat("openIssues"===u&&S.a.active_tab),onClick:function(){m("openIssues")}},"Open Issues"),r.a.createElement("h4",{className:"".concat(S.a.tap," ").concat("closedIssues"===u&&S.a.active_tab),onClick:function(){m("closedIssues")}},"Closed Issues")),"pullRequests"===u&&r.a.createElement(E,{pullRequests:h}),"openIssues"===u&&r.a.createElement(w,{issue:v}),"closedIssues"===u&&r.a.createElement(w,{issue:b}))},R=function(e){var t=e.setReposQuery,n="";return r.a.createElement("form",{onSubmit:function(e){return function(e,n){e.preventDefault(),t(n.value)}(e,n)}},r.a.createElement("label",{htmlFor:"reposQuery"},"Search Repos: "),r.a.createElement("input",{name:"reposQuery",type:"text",placeholder:"e.g. nuwave/lighthouse",ref:function(e){n=e}}),r.a.createElement("button",null,"Search"))},x=n(30),C=n.n(x),O=function(e){var t="";return r.a.createElement("form",{className:C.a.login_form,onSubmit:function(n){return e.login(n,t)}},r.a.createElement("input",{type:"password",name:"token",ref:function(e){t=e},placeholder:"Paste your GitHub token"}),r.a.createElement("button",null,"Login"))},j=n(18),T=n.n(j),q=function(){var e=localStorage.getItem("storedToken")||"",t=Object(a.useState)(e),n=Object(c.a)(t,2),o=n[0],s=n[1],p=Object(a.useState)(""),d=Object(c.a)(p,2),_=d[0],f=d[1],E=new m.a({uri:"https://api.github.com/graphql",headers:{Authorization:"Bearer ".concat(o)}}),g=new u.a({link:E,cache:new i.a});return r.a.createElement(l.a,{client:g},r.a.createElement("div",{className:T.a.App},o&&r.a.createElement("button",{className:T.a.logoutBtn,onClick:function(){localStorage.clear(),s(""),f("")}},"Logout"),r.a.createElement("h1",{className:T.a.app_title},"Repos Checker"),o?r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{reposQuery:_,setReposQuery:f}),_&&r.a.createElement(N,{reposQuery:_})):r.a.createElement(O,{token:o,setToken:s,login:function(e,t){e.preventDefault(),localStorage.setItem("storedToken",t.value),s(t.value)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.46b025c8.chunk.js.map